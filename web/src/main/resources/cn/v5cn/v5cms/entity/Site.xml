<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.v5cn.v5cms.entity.Site">
    <select id="selectSite" resultType="Site">
        select * from site
        <if test="_parameter != -1">
            where siteid=#{_parameter}
        </if>
    </select>
    <select id="selectRunableSite" resultType="Site">
        select * from site where isclosesite = #{isclosesite}
    </select>

    <insert id="addSite" parameterType="Site" useGeneratedKeys="true" keyProperty="siteId">
        insert into site
          (siteName,siteDeputyTitle,siteKey,siteDescribed,createDate,siteicp,
          siteStatisticCode,siteFooterInfo,isclosesite)
          values(
          #{siteName},
          #{siteDeputyTitle},
          #{siteKey},
          #{siteDescribed},
          #{createDate},
          #{siteicp},
          #{siteStatisticCode},
          #{siteFooterInfo},
          #{isclosesite}
        )
    </insert>

    <update id="updateSite" parameterType="Site">
        update site set
            siteName=#{siteName},siteDeputyTitle=#{siteDeputyTitle},
            siteKey=#{siteKey},siteDescribed=#{siteDescribed},
            siteicp=#{siteicp},siteStatisticCode=#{siteStatisticCode},
            siteFooterInfo=#{siteFooterInfo},isclosesite=#{isclosesite}
        where siteId=#{siteId}
    </update>

    <delete id="deleteSite" parameterType="_int">
        delete from site where siteId=#{siteId}
    </delete>

</mapper>